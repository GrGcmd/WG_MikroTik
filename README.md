# WG_MikroTik
WireGuard MikroTik simple create peers

Данная программа позволяет вам в автоматическом режиме создать конфигурационный файл WireGuard для конечного клиента на оборудовании MikroTik. Для подключения потребуется ввести корректные данные в разделе «Настройка начальной конфигурации». Подключение происходит по протоколу SSH. У пользователя, при подключении через SSH должны быть права на запись, чтение и удаление параметров WireGuard. Программа сформирует готовый файл конфигурации, который можно передавать клиенту. 
Предварительно у клиента должен быть установлен WireGuard. Клиента можно скачать здесь: https://www.wireguard.com/install/ 
  
Инструкция по эксплуатации 
  
Для использования программы необходимо предварительно настроить RouterOS: 
a) Создать учётную запись для настройки; 
b) Включить SSH 
c) Создать интерфейс WireGuard с парой приватного и публичного ключа. 
d) Настроить Firewall. 
  
Далее необходимо настроить параметры начальной конфигурации в программе. Данная конфигурация включает в себя: 
1. Конфигурация подключения к MikroTik для создания профиля через SSH 
1.1. IP управления – адрес MikroTik для подключения по SSH; 
1.2. Порт SSH – порт службы SSH для подключения; 
1.3. Логин – имя пользователя на RouterOS ; 
1.4. Пароль – пароль пользователя на RouterOS (шифруется при вводе); 
  
2. Предварительная конфигурация WireGuard подключения для новых клиентов 
2.1. Сервер – IP адрес или DNS имя к которому будут подключаться клиенты; 
2.2. Порт – порт на котором находится сервис WireGuard 
2.3. Имя интерфейса сервера WireGuard – название интерфейса WireGuard в RouterOS. Находится в разделе «WireGuard» 
2.4. Пул IP для клиентов (максимальная маска /16) – начальное и конечное значение для пула адресов, IP адрес из которого будет выбран автоматически без повторений для клиента. 
2.5. Адрес сервера в VPN туннеле – IP адрес, который назначается на интерфейс в RoterOS из пункта 2.3 
2.6. DNS сервера – адреса DNS, которые будут у клиента. 
2.7. Маршруты в VPN – маршруты, которые будут «заворачиваться» в VPN при подключении на стороне клиента. 
  
После заполнения всех данных необходимо сохранить конфигурацию. Все данные хранятся в файле «wg_pre_config.conf» в основном каталоге программы. Некоторые данные в файле зашифрованы для безопасности. Не рекомендуется изменять параметры в конфигурационном файле. 
  
Далее на главной странице программы в поле «Имя пользователя» необходимо ввести имя пользователя. К данному имени будет привязана конфигурация клиента. Фактически имя нужно для идентификации настроек и дальнейшему учёту всех подключаемых клиентов. Рекомендуется использовать символы на латинице и цифры. Например: IvanFedotov3 или i_fedotov или иные сочетания букв и цифр. Используйте понятные для вас имена. 
При нажатии на кнопку «Добавить» немного подождите. Процесс создания конфигурации может происходить до 10 секунд. Время создания напрямую зависит от модели MikroTik. 
  
  
